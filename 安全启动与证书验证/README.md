# 安全启动与证书验证文档索引

本目录包含了 ARM Trusted Firmware 中关于安全启动、证书签名和验证的所有相关文档。

## 文档列表

### 基础概念

1. **01_ROT_KEY的作用和启动过程.md**
   - ROT_KEY（信任根密钥）的定义和作用
   - 证书生成和启动验证中的角色
   - ROTPK（信任根公钥）的获取和验证

2. **02_验证时如何获取公钥.md**
   - 根证书验证：从平台获取 ROTPK
   - 非根证书验证：从父证书扩展中提取公钥
   - Subject Public Key vs 扩展中的公钥

3. **03_证书签名验证过程详解.md**
   - X.509 证书结构
   - 签名验证的完整流程
   - 密码学验证过程

### TBBR 架构

4. **04_TBBR和DualRoot关系.md**
   - TBBR（Trusted Board Boot Requirements）架构
   - DualRoot 架构
   - 两种架构的关系和区别

5. **05_密钥证书和内容证书.md**
   - Key Certificate（密钥证书）的作用
   - Content Certificate（内容证书）的作用
   - 两种证书的区别和关系

6. **07_TBBR三个文件如何协同工作.md**
   - tbb_cert.c：证书定义
   - tbb_key.c：密钥定义
   - tbb_ext.c：扩展定义
   - 三个文件的协同工作机制

7. **18_TBBR与DualRoot信任链对比.md**
   - TBBR 信任链结构
   - DualRoot 信任链结构
   - 两种架构的对比分析

### 证书字段和密钥

6. **06_cert_key字段到Subject_PK.md**
   - cert->key 字段的作用
   - 如何映射到证书的 Subject Public Key
   - 验证时的使用

16. **16_cert_key字段用于什么.md**
   - cert->key 字段的详细说明
   - 在证书创建和验证中的用途

17. **17_为什么issuer等于ID意味着自签名.md**
   - 自签名证书的判断逻辑
   - issuer 字段的作用

### 密钥生成和管理

9. **09_签名密钥如何确定.md**
   - 证书签名时使用的密钥
   - issuer 密钥的确定逻辑
   - 自签名证书的密钥使用

10. **10_证书中生成什么密钥.md**
   - 证书中包含的密钥类型
   - Subject Public Key 的生成
   - 扩展中的公钥

11. **11_Subject公钥如何添加到证书.md**
   - Subject Public Key 的添加过程
   - X509_set_pubkey() 的使用

12. **12_如何生成密钥.md**
   - 密钥生成工具的使用
   - RSA 和 ECDSA 密钥生成
   - 密钥文件格式

13. **13_如何生成公钥二进制文件.md**
   - 公钥二进制文件的生成方法
   - 平台集成方式

14. **14_为什么将公钥编译为二进制.md**
   - 公钥二进制化的原因
   - 平台存储方式

15. **15_如何查看证书中的公钥.md**
   - 使用 OpenSSL 查看证书
   - 提取公钥的方法
   - 公钥格式转换

### 证书扩展和公钥传递

8. **08_如何添加下一级公钥到证书.md**
   - 证书扩展的定义
   - 公钥扩展的添加过程
   - 信任链中公钥的传递

## 阅读建议

### 入门顺序
1. 先阅读基础概念（01-03）
2. 了解 TBBR 架构（04, 05, 07）
3. 深入学习证书字段和密钥（06, 09-11, 16-17）
4. 实践密钥生成和管理（12-15）
5. 理解证书扩展机制（08）

### 主题分类

**安全启动流程**
- 01_ROT_KEY的作用和启动过程.md
- 02_验证时如何获取公钥.md
- 03_证书签名验证过程详解.md

**证书结构**
- 05_密钥证书和内容证书.md
- 06_cert_key字段到Subject_PK.md
- 11_Subject公钥如何添加到证书.md
- 16_cert_key字段用于什么.md
- 17_为什么issuer等于ID意味着自签名.md

**密钥管理**
- 09_签名密钥如何确定.md
- 10_证书中生成什么密钥.md
- 12_如何生成密钥.md
- 13_如何生成公钥二进制文件.md
- 14_为什么将公钥编译为二进制.md
- 15_如何查看证书中的公钥.md

**TBBR 架构**
- 04_TBBR和DualRoot关系.md
- 07_TBBR三个文件如何协同工作.md
- 18_TBBR与DualRoot信任链对比.md

**证书扩展**
- 08_如何添加下一级公钥到证书.md

## 相关代码位置

- **证书创建工具**: `tools/cert_create/src/`
- **证书验证代码**: `drivers/auth/`
- **TBBR 配置**: `drivers/auth/tbbr/`
- **证书定义**: `tools/cert_create/src/tbbr/tbb_cert.c`
- **密钥定义**: `tools/cert_create/src/tbbr/tbb_key.c`
- **扩展定义**: `tools/cert_create/src/tbbr/tbb_ext.c`

## 文档整理说明

✅ **所有安全启动、签名、验签相关文档已统一整理到此目录**
- 所有文档均使用中文命名
- 文档按主题分类，便于查找和学习
- 根目录下的英文文档已全部移动到此目录并重命名

## 更新日期

文档整理日期：2024年12月22日
最后更新：2024年12月22日（文档统一整理完成）
